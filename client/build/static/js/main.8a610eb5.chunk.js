(this["webpackJsonpkan-board"]=this["webpackJsonpkan-board"]||[]).push([[0],{27:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n.n(c),a=n(8),s=n.n(a),r=(n(27),n(6)),o=n(16),d=n(2),j=function(){return Object(d.jsxs)("nav",{className:"navbar",children:[Object(d.jsx)("h1",{children:"KanBoard"}),Object(d.jsx)("div",{className:"links",children:Object(d.jsx)(o.b,{to:"/",children:"Home"})}),Object(d.jsx)("div",{})]})},l=n(11),b=n(3),O=n(17),u=(n(34),n(10)),h=(n(35),function(e){var t=e.item,n=e.index,i=Object(c.useState)(!0),a=Object(r.a)(i,2),s=a[0],o=a[1],j=function(){return o(!s)};return Object(d.jsx)(u.b,{draggableId:t.id,index:n,children:function(e,n){return Object(d.jsx)("div",Object(b.a)(Object(b.a)(Object(b.a)({ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{style:Object(b.a)({userSelect:"none",margin:"0 0 8px 0",minHeight:"50px"},e.draggableProps.style),children:Object(d.jsx)("div",{className:"task".concat(s?"":"-hidden"),onClick:j,children:Object(d.jsx)("div",{children:s?Object(d.jsxs)("div",{className:"collapse",children:[Object(d.jsx)("h2",{children:t.title}),Object(d.jsx)("h2",{children:t.description})]}):Object(d.jsxs)("div",{className:"expand",children:[Object(d.jsx)("h2",{children:t.title}),Object(d.jsx)("h2",{children:t.description}),Object(d.jsx)("h2",{children:t.description})]})})})}))}},t.id)}),p=(n(36),function(e){var t=e.data,n=e.id;return Object(d.jsxs)("div",{className:"task-list",children:[Object(d.jsx)("h2",{id:"title",children:t.name}),Object(d.jsx)(u.c,{droppableId:n,children:function(e,n){return Object(d.jsxs)("div",Object(b.a)(Object(b.a)({className:"drop-area"},e.droppableProps),{},{ref:e.innerRef,style:{background:n.isDraggingOver?"lightblue":"#ebecf0"},children:[t.items.map((function(e,t){return Object(d.jsx)("div",{children:Object(d.jsx)(h,{item:e,index:t})},e.id)})),e.placeholder]}))}},n)]},n)}),x=function(e){var t=e.newTask,n=e.lists,i=Object(c.useState)(n),a=Object(r.a)(i,2),s=a[0],o=a[1],j=Object(c.useState)({id:0}),h=Object(r.a)(j,2),x=h[0],f=h[1];return t.id!==x.id&&(f(t),console.log("NEW TASK",t)),Object(c.useEffect)((function(){console.log("Added Task"),console.log(x),fetch("/add",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(x)}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e),o(e)})).catch((function(e){console.error("Error:",e)}))}),[x]),Object(c.useEffect)((function(){fetch("/update",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(s)}).then((function(e){return e.json()})).then((function(e){console.log("Updated:",e)})).catch((function(e){console.error("Error:",e)}))}),[s]),Object(d.jsx)("div",{className:"board",children:Object(d.jsx)(u.a,{onDragEnd:function(e){return function(e,t,n){if(e.destination){var c=e.source,i=e.destination;if(c.droppableId!==i.droppableId){var a,s=t[c.droppableId],o=t[i.droppableId],d=Object(O.a)(s.items),j=Object(O.a)(o.items),u=d.splice(c.index,1),h=Object(r.a)(u,1)[0];j.splice(i.index,0,h),n(Object(b.a)(Object(b.a)({},t),{},(a={},Object(l.a)(a,c.droppableId,Object(b.a)(Object(b.a)({},s),{},{items:d})),Object(l.a)(a,i.droppableId,Object(b.a)(Object(b.a)({},o),{},{items:j})),a)))}else{var p=t[c.droppableId],x=Object(O.a)(p.items),f=x.splice(c.index,1),m=Object(r.a)(f,1)[0];x.splice(i.index,0,m),n(Object(b.a)(Object(b.a)({},t),{},Object(l.a)({},c.droppableId,Object(b.a)(Object(b.a)({},p),{},{items:x}))))}console.log(t)}}(e,s,o)},children:Object.entries(s).map((function(e,t){var n=Object(r.a)(e,2),c=n[0],i=n[1];return Object(d.jsx)("div",{children:Object(d.jsx)(p,{data:i,id:c})},c)}))})})},f=(n(37),n(22)),m=n.n(f),v=function(e){var t=e.open,n=e.onClose,i=e.onSubmit,a=Object(c.useState)(""),o=Object(r.a)(a,2),j=o[0],l=o[1],b=Object(c.useState)(""),O=Object(r.a)(b,2),u=O[0],h=O[1],p=m()();return t?s.a.createPortal(Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"overlay",onClick:n}),Object(d.jsx)("div",{className:"modal",children:Object(d.jsxs)("form",{children:[Object(d.jsx)("label",{children:Object(d.jsx)("h2",{children:"Title:"})}),Object(d.jsx)("input",{type:"text",required:!0,value:j,onChange:function(e){return l(e.target.value)}}),Object(d.jsx)("label",{children:Object(d.jsx)("h2",{children:"Description:"})}),Object(d.jsx)("textarea",{required:!0,value:u,onChange:function(e){return h(e.target.value)}}),Object(d.jsx)("button",{type:"button",onClick:function(){!function(e,t){0!==e.length&&0!==t.length&&(i({title:e,description:t,submit:1,id:p}),l(""),h(""))}(j,u)},children:"Submit"})]})})]}),document.getElementById("portal")):null};var g=function(){var e=Object(c.useState)(!1),t=Object(r.a)(e,2),n=t[0],i=t[1],a=Object(c.useState)({id:0}),s=Object(r.a)(a,2),l=s[0],b=s[1],O=Object(c.useState)(null),u=Object(r.a)(O,2),h=u[0],p=u[1];return Object(c.useEffect)((function(){fetch("/api").then((function(e){return e.json()})).then((function(e){p(e)}))}),[]),Object(d.jsx)("div",{className:"App",children:Object(d.jsxs)(o.a,{children:[Object(d.jsx)(j,{}),Object(d.jsxs)("div",{className:"content",children:[Object(d.jsx)("button",{id:"addTask",onClick:function(){return i(!0)},style:{zIndex:1e3},children:"Open Modal"}),Object(d.jsx)(v,{open:n,onClose:function(){return i(!1)},onSubmit:function(e){1===e.submit&&(b(e),console.log(e)),i(!1)}}),h?Object(d.jsx)(x,{newTask:l,lists:h}):"loading"]})]})})};s.a.render(Object(d.jsx)(i.a.StrictMode,{children:Object(d.jsx)(g,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.8a610eb5.chunk.js.map